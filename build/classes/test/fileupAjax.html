<html>
<head>
<title>MySNS</title>
<meta name=viewport content="width=device-width, initial-scale=1, user-scalable=0">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style>
.section {
	float: "left";
	width: 100%;
	margin-top: 10px;
}
</style>
</head>
<body>
	<h3>File upload test</h3>
	<div class="section">
		ID: <input type="text" id="id" size=30>
	</div>
	<div class="section">
		Description: <br>
		<textarea id="desc" rows=5 cols=40></textarea>
	</div>		
	<div class="section">
		Image: <input type="file" id="image">
	</div>		
	<div class="section">
		<input type="submit" value="Upload" onclick="upload()">
	</div>
	
	<hr><div class="section" id="result"></div>
</body>
</html>

<script src="../js/jquery-1.12.0.min.js"></script>
<script src="../js/core.js"></script>
<script type="text/javascript">
$(document).ready(function() {

});

function upload() {
	var id = $("#id").val().trim();
	var desc = $("#desc").val().trim();
	var image = $("#image")[0].files[0];
	
	// make the HTTP request in a form of the "Form data"
	var params = new FormData();
	params.append("id", id);
	params.append("desc", desc);
	params.append("image", image);

	AJAX.formCall("fileup3.jsp", params, function(data) {
		var res = data.trim();
		$("#result").html(res);
	});
}
</script>